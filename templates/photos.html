<!DOCTYPE html>
<html>

  <head>
    <title>Photos</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
  </head>

  <body>

    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/photos">Photos</a></li>
      <li><a href="/search">Search</a></li>
    </ul>

    <h1>Photos</h1>

    <!--The thumbnail class currently doesn't actually mean anything.
    Use a for loop where indices of thumbnail references and their corresponding
    thumbnails match up so that info from references can be assigned to the appropriate
    thumbnail image-->
    <div class="gallery">
      {% for img_url, thumbnail_reference in thumbnails.iteritems() %}
      <div class="thumbnail">
        <img id='{{thumbnail_reference.thumbnail_name}}' src='{{img_url}}' alt='{{thumbnail_reference.thumbnail_name}}'>
        <div class="descent">{{thumbnail_reference.thumbnail_name}}</div>
      </div>

      <div id="myModal" class="modal">
        <span class="close" onclick="document.getElementById('myModal').style.display='none'">&times;</span>
        <img id='img01'>
        <div id="caption"></div>
      </div>

      <script>
        var modal = document.getElementById('myModal');
        var img = document.getElementById('{{thumbnail_reference.thumbnail_name}}');
        var modalImg = document.getElementById('img01');
        var captionText = document.getElementById("caption");
        img.onclick = function(){
          modal.style.display = "block";
          modalImg.src = '{{thumbnail_reference.original_photo}}';
          captionText.innerHTML = this.alt;
        }

        var span = document.getElementsByClassName("close")[0];
        span.onclick = function() {
          modal.style.display = "none";
        }
      </script>
      {% endfor %}
    </div>

  </body>
</html>
